<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title>Calendar 2025â€“2026</title>
  <style>
    :root { --bg-dark:#000; --text-dark:#fff; --bg-light:#fff; --text-light:#000; --primary:#2196f3; }
    body {
      margin:0; font-family:'Segoe UI',sans-serif;
      background:var(--bg-dark); color:var(--text-dark);
      transition:background .3s,color .3s;
      animation:fadeIn .5s;
    }
    body.light { background:var(--bg-light); color:var(--text-light); }
    @keyframes fadeIn { from{opacity:0} to{opacity:1} }

    #popup {
      position:fixed; top:50%; left:50%;
      transform:translate(-50%,-50%);
      background:inherit; border:2px solid currentColor;
      padding:1rem; border-radius:6px; display:none;
      z-index:100;
    }
    #popup input {
      width:200px; padding:.5rem; border:1px solid currentColor;
      border-radius:4px; background:transparent; color:inherit;
      margin-bottom:.5rem;
    }
    #popup button {
      padding:.4rem .8rem; margin-right:.5rem; border:none;
      border-radius:4px; cursor:pointer; background:var(--primary);
      color:#fff;
    }

    .year { padding:1rem; animation:slideIn .5s; }
    @keyframes slideIn { from{transform:translateY(10px);opacity:0} to{transform:translateY(0);opacity:1} }
    h2 { text-align:center; margin-bottom:.5rem; }
    .months { display:flex; flex-wrap:wrap; gap:1rem; justify-content:center; }
    .month {
      background:rgba(255,255,255,0.05); border-radius:8px;
      width:200px; padding:.5rem; box-sizing:border-box;
    }
    .month h3 { text-align:center; margin:0.5rem 0; }
    table { width:100%; border-collapse:collapse; }
    th,td { width:14.28%; text-align:center; padding:4px; }
    th { background:rgba(0,0,0,0.2); }
    td { cursor:pointer; transition:background .2s; }
    td:hover { background:rgba(255,255,255,0.1); }
    .sunday { color:red; }
    .event { background:var(--primary); color:#000; border-radius:4px; }

    header {
      display:flex; justify-content:flex-end; padding:1rem;
    }
    header button {
      font-size:1.2rem; border:none; background:transparent;
      color:inherit; cursor:pointer; margin-left:.5rem;
    }
  </style>
</head>
<body>
  <header>
    <button onclick="toggleTheme()">ðŸŒ“</button>
  </header>

  <div id="popup">
    <input id="eventText" placeholder="Add event">
    <div style="text-align:right">
      <button onclick="saveEvent()">Save</button>
      <button onclick="closePopup()">Cancel</button>
    </div>
  </div>

  <div id="calContainer"></div>

  <script>
    const festivals = {
      '2025-01-01':'New Year\'s Day','2025-01-26':'Republic Day','2025-03-14':'Holi',
      '2025-08-15':'Independence Day','2025-10-02':'Gandhi Jayanti','2025-10-22':'Diwali',
      '2026-01-01':'New Year\'s Day','2026-01-26':'Republic Day','2026-03-03':'Holi',
      '2026-08-15':'Independence Day','2026-10-02':'Gandhi Jayanti','2026-11-01':'Diwali'
    };
    let selectedKey,selectedCell;

    function buildYear(y){
      const div=document.createElement('div');div.className='year';
      div.innerHTML=`<h2>${y}</h2><div class="months"></div>`;
      const mC=div.querySelector('.months');
      for(let m=0;m<12;m++)mC.append(buildMonth(y,m));
      return div;
    }

    function buildMonth(y,m){
      const dt=new Date(y,m,1),days=new Date(y,m+1,0).getDate();
      const names=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
      const md=document.createElement('div');md.className='month';
      md.innerHTML=`<h3>${names[m]}</h3><table><tr>${['Sun','Mon','Tue','Wed','Thu','Fri','Sat']
        .map(d=>`<th${d==='Sun'?' class="sunday"':''}>${d}</th>`).join('')}</tr></table>`;
      const tbl=md.querySelector('table'),row=tbl.insertRow();
      for(let i=0;i<dt.getDay();i++)row.insertCell();
      for(let d=1;d<=days;d++){
        if(row.cells.length===7)row=tbl.insertRow();
        const cell=row.insertCell();cell.textContent=d;
        const key=`${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
        if(festivals[key]||localStorage.getItem(key))cell.classList.add('event');
        cell.onclick=()=>openPopup(cell,key);
        if(cell.cellIndex===0)cell.classList.add('sunday');
      }
      return md;
    }

    function openPopup(cell,key){
      selectedCell=cell;selectedKey=key;
      document.getElementById('eventText').value=localStorage.getItem(key)||'';
      document.getElementById('popup').style.display='block';
    }
    function closePopup(){document.getElementById('popup').style.display='none';}
    function saveEvent(){
      const v=document.getElementById('eventText').value;
      if(v) localStorage.setItem(selectedKey,v),selectedCell.classList.add('event');
      else localStorage.removeItem(selectedKey),selectedCell.classList.remove('event');
      closePopup();
    }

    function toggleTheme(){
      document.body.classList.toggle('light');
    }

    const cont=document.getElementById('calContainer');
    [2025,2026].forEach(y=>cont.append(buildYear(y)));
  </script>
</body>
</html>
